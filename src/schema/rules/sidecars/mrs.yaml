#
# Groups of related metadata fields
#
# Assumptions: never need disjunction of selectors
# Assumptions: top-to-bottom overrides is sufficient logic

---
# MRS Common metadata fields
MRSScannerHardware:
  selectors:
    - modality == "mrs"
  fields:
    Manufacturer:
      level: recommended
      description_addendum: Corresponds to DICOM Tag 0008, 0070 `Manufacturer`.
    ManufacturersModelName:
      level: recommended
      description_addendum: Corresponds to DICOM Tag 0008, 1090 `Manufacturers Model Name`.
    DeviceSerialNumber:
      level: recommended
      description_addendum: Corresponds to DICOM Tag 0018, 1000 `DeviceSerialNumber`.
    StationName:
      level: recommended
      description_addendum: Corresponds to DICOM Tag 0008, 1010 `Station Name`.
    SoftwareVersions:
      level: recommended
      description_addendum: Corresponds to DICOM Tag 0018, 1020 `Software Versions`.
    HardcopyDeviceSoftwareVersion: DEPRECATED
    MagneticFieldStrength:
      level: recommended
    ReceiveCoilName: recommended
    ReceiveCoilActiveElements: recommended
    NumberReceiveCoilActiveElements: recommended

MRSSequenceSpecifics:
  selectors:
    - modality == "mrs"
  fields:
    PulseSequenceType:
      level: recommended
      description_addendum: For example, `"sLASER"`, `"MEGA-PRESS"`, `"EPSI"`, `"Metabolite-cycled MRSI"`.
    ScanningSequence: recommended
    SequenceVariant: recommended
    ScanOptions: recommended
    SequenceName: recommended
    PulseSequenceDetails: recommended
    MRAcquisitionType: recommended for MRSI

MRSRequiredFields:
  selectors:
    - modality == "mrs"
  fields:
    ResonantNucleus: required
    SpectrometerFrequency: required
    SpectralWidth: required
    EchoTime: required

MRSRecommendedFields:
  selectors:
    - modality == "mrs"
  fields:
    NumberOfSpectralPoints: recommended
    NumberOfTransients: recommended for SVS
    RepetitionTime: recommended
    MixingTime: recommended
    InversionTime: recommended for inversion recovery data
    FlipAngle: recommended
    AcquisitionVoxelSize: recommended
    MatrixSize: recommended
    VolumeAffineMatrix: recommended for MRSI
    BodyPart: recommended
    BodyPartDetails: recommended
    EditTarget: recommended for edited data
    EditCondition: recommended for edited data
    EditPulse: recommended for edited data
    WaterSuppressed: recommended
    WaterSuppressionTechnique: recommended
    EncodingTechnique: recommended for MRSI
    B0ShimmingTechnique: recommended
    OuterVolumeSuppression: recommended
    ReferenceSignal: recommended
    AnatomicalImage: recommended in anatomical imaging data are present
